<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Honnexus</title>
    <link rel="manifest" href="manifest.json" />
    <link rel="stylesheet" href="./style.css" />
    <link rel="stylesheet" href="./review.css" />
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/quagga/0.12.1/quagga.min.js"></script> -->
  </head>
  <body>
    <div class="app">
      <div class="failure-tostal">
        <div class="x-icon">
          <div class="bar-1"></div>
          <div class="bar-2"></div>
        </div>
        <div class="message-box">
          <p class="message">Error</p>
          <p class="text">Select the requierd fields</p>
        </div>
        <div class="failure-line"></div>
      </div>
      <header>
        <h2>Honnexus</h2>
        <div class="header-left">
          <img src="./icons/bell.svg" alt="" />
        </div>
      </header>
      <style>
        .hidden {
          display: none !important;
        }
        
        .container-2 {
          background-color: darkred;
        }
        .container-3 {
          background-color: rgb(12, 139, 0);
        }
      </style>
      <main>
        <section class="admin" style="display: flex">
          <div class="container-1 hidden">
            <div class="student-data">
              <!-- <button id="scan-btn">Start Barcode Scan</button> -->
 <div class="backdrop"></div>

 <div id="scanner-container">
   <div class="loading"></div>
   <video id="barcode-scanner" autoplay playsinline></video>
   <div id="scan-overlay">
     <div id="scan-line"></div>
   </div>
 </div>

 <div class="student-data">
   <div class="student-content active">
     <div class="student-img">
       <img class="student-img" src="./icons/image.png" alt="" />
     </div>
     <div class="student-details">
       <h2 class="student-name">Student Name</h2>
       <small class="student-id">StudentId</small>
     </div>
   </div>
   <div class="button-assign">
     <button class="clean-btn">Scan StudentId</button>
   </div>
   
   <li class="book-card padding active">
     <div class="left-portion">
       <img
         class="book-img"
         src="../Frontend/assets/images/image.png"
         alt="Book cover"
       />
     </div>
     <div class="right-portion">
       <p class="book-name"></p>
       <div class="author-details">
         <small>Edition - <span class="edition"></span></small>
         <small>Author : <span class="author-name"></span></small>
       </div>
       <div class="">
         <p>Available Books : <b class="stock"></b></p>
       </div>
       <div class="ratings">
         <div class="stars">
           <img
             src="icons/filledStar.svg"
             alt=""
             class="star-icon"
           /><img
             src="icons/filledStar.svg"
             alt=""
             class="star-icon"
           /><img
             src="icons/filledStar.svg"
             alt=""
             class="star-icon"
           /><img
             src="icons/filledStar.svg"
             alt=""
             class="star-icon"
           /><img src="icons/star.svg" alt="" class="star-icon" />
           <p style="color: darkolivegreen">(29)</p>
         </div>
       </div>
     </div>
   </li>
   <div class="button-assign width">
     <button class="clean-btn">Scan BookId</button>
   </div>
   <div class="button-assign">
     <button class="modern-btn">Link Student & Book</button>
   </div>
 </div>
            </div>
          </div>
          <div class="container-2 hidden">
            <h1>hello</h1>
            <h1>hello</h1>
            <h1>hello</h1>
            <h1>hello</h1>
            <h1>hello</h1>
            <h1>hello</h1>
          </div>
          <div class="container-3 hidden">
            <h1>hello</h1>
            <h1>hello</h1>
            <h1>hello</h1>
            <h1>hello</h1>
            <h1>hello</h1>
            <h1>hello</h1>
          </div>
        </section>
      </main>
      <footer>
        <ul>
          <li>
            <img src="icons/book.svg" alt="" />
          </li>
          <li>
            <img src="icons/list-search.svg" alt="" />
          </li>
          <li>
            <nav>
              <div class="nav-content">
                <div class="toggle-btn">
                  <img src="icons/plus.svg" alt="" />
                </div>
                <span style="--i: 2" id="scan-btn">
                  <a href="#" data-file-type="audio"
                    ><img src="icons/scan.svg" alt=""
                  /></a>
                </span>

                <span style="--i: 3" id="recordBtn">
                  <a href="#" data-file-type="video"
                    ><img src="icons/server-bolt.svg" alt=""
                  /></a>
                </span>
                <span style="--i: 4" id="refresh">
                  <a href="#" data-file-type="video"
                  ><img src="icons/menu-4.svg" alt=""
                /></a>
                </span>
              </div>
            </nav>
          </li>
          <li>
            <img src="icons/user.svg" alt="" />
          </li>
          <li>
            <img src="icons/category-plus.svg" alt="" />
          </li>
        </ul>
      </footer>
    </div>
    <script>
      let navBtn = document.querySelectorAll(".nav-content span");
      let adminPages = document.querySelectorAll("section.admin > div");
      
      navBtn.forEach((btn, index) => {
        btn.addEventListener("click", () => {
          document.querySelector(".admin").style.display = "flex !important";
          // Hide all pages
          adminPages.forEach((page) => page.classList.add("hidden"));
          
          // Show the selected one
          if (adminPages[index]) {
            adminPages[index].classList.remove("hidden");
          }
        });
      });
      
      // message box
      function showMessage(value, time = 50) {
        console.log("hello");
        let title = document.querySelector(".message-box .message");
        let text = document.querySelector(".message-box .text");
        text.textContent = value.message;
        title.textContent = "Status : " + value.status;
        // For tostal
        let failureWidth = 100;
        document.querySelector(".failure-tostal").style.display = "flex";
        const failureIntervalId = setInterval(() => {
          document.querySelector(".failure-line").style.width =
            failureWidth - 1 + "%";
          if (failureWidth <= -10) {
            clearInterval(failureIntervalId);
            document.querySelector(".failure-tostal").style.display = "none";
            document.querySelector(".failure-line").style.width = "100%";

            failureWidth = 0;
          }
          failureWidth--;
        }, time);
      }
      let datas = {
        message: "You are not admin.!",
        value: "400",
      };
      // showMessage(datas);
      // Show skeleton loading
      document.querySelector(".student-data").classList.add("active");

      // Hide skeleton when content is loaded
      // Simulated 2 second loading time
      const range = document.getElementById("rangeInput");
      const bubble = document.getElementById("bubble");

      function updateSlider() {
        const val = Number(range.value);
        const min = Number(range.min);
        const max = Number(range.max);
        const percent = ((val - min) / (max - min)) * 100;

        // Move bubble
        const offset = percent * (range.offsetWidth / 100);
        bubble.style.left = `${offset}px`;
        bubble.textContent = val;

        // Update slider fill gradient
        range.style.background = `linear-gradient(to right, #4caf50 0%, #4caf50 ${percent}%, #ccc ${percent}%, #ccc 100%)`;
      }

      range.addEventListener("input", updateSlider);
      window.addEventListener("load", updateSlider);

      let theme = document.querySelector(".toggle-switch");

      document.querySelector(".toggle-switch").addEventListener("click", () => {
        if (!theme.classList.contains("active")) {
          document.querySelector("body").classList.remove("dark");
        } else {
          document.querySelector("body").classList.add("dark");
        }
      });
    </script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/quagga/0.12.1/quagga.min.js"></script> -->
    <script type="module" src="./scanner.js"></script>
    <!-- <script type="module" src="./script.js"></script> -->
    <!-- <script type="module" src="./main.js"></script> -->

    <!-- <script src="./service-worker.js"></script> -->
  </body>
</html>
